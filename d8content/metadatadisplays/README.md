# What is in this folder?

## Updated Metadata Display Entities/ Twig templates for [Archipelago 1.0.0-RC2](https://github.com/esmero/archipelago-deployment/tree/1.0.0-RC2)

All source files have .twig.html extensions

If you are installing Archipelago 1.0.0-RC2 for the first time following the README you already have these, but if you are updating from RC1 or Beta3 and skipped the complete installation, and/or want to update your templates manually because you did customizations, you probably want to:

* Backup (copy to a local file the Twig Source) any Metadata Display Entities you have customized.
* Run the Install script first: 
  `docker exec -ti esmero-php bash -c 'scripts/archipelago/deploy.sh'` 
  Note: This will add all the new ones and will keep your current ones untouched
* Now run the Update script or skip and do it manually (expert)
  `docker exec -ti esmero-php bash -c 'scripts/archipelago/update_deployed.sh'` :
* Manual (expert):
   - replace http://localhost:8001/metadatadisplay/3 `(Object Description)` with 
 the content of `object_description.twig.html` file.
   - replace http://localhost:8001/metadatadisplay/3 `(Object Description)` with 
 the content of `object_description.twig.html` file.
   - replace http://localhost:8001/metadatadisplay/3 `(IIIF Presentation API 3.0 Manifest)` with 
 the content of `iiif_manifest_3.0.twig.html` file.
   - replace http://localhost:8001/metadatadisplay/4 `(MODS 3.6)` with the content of `MODS_3_7.twig.html` and rename it to `(MODS 3.7)`
  
## Where are these templates used? 

* Several Field Formatters (viewers) use as input IIIF Manifests generated by these. 
* Archipelago exposes also Metadata endpoints which can be configured to use any of template at 
`http://localhost:8001/admin/config/archipelago/metadataexpose`, per Content Type. 
* In specific, the GeoJSON one provides support for the new [Map Formatter](https://github.com/esmero/format_strawberryfield/blob/8.x-1.0-beta2/src/Plugin/Field/FieldFormatter/StrawberryMapFormatter.php ).

## Need help?

Please post to https://groups.google.com/forum/#!forum/archipelago-commons or open an issue
at https://github.com/esmero/archipelago-deployment and we will be happy to help you with this
or any other issue!
